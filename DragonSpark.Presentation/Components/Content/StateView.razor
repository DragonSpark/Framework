@typeparam T

@inherits StateViewBase<T>

@if (_content is not null)
{
    @ChildContent(_content)
}
else
{
    @LoadingTemplate
}

@code
{
    T? _content;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var current = await Definition.Get();
            _content = current.Success ? current.Value : New.Get();
            StateHasChanged();
        }
    }

}
