@using DragonSpark.Presentation.Components.Content.Templates

@inject RenderStateStore Render

@if (_render)
{
    @ChildContent
}
else
{
    @LoadingTemplate
}

@code {
    bool _render;

    protected override void OnInitialized()
    {
        _render = Render.IsConnected();
        base.OnInitialized();
    }

    [Parameter]
    public required RenderFragment ChildContent { get; set; }

    [Parameter]
    public RenderFragment LoadingTemplate { get; set; } = EmptyContentTemplate.Default;
}