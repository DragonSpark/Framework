@typeparam T
@using DragonSpark.Application.Entities.Queries.Runtime.Pagination

@inherits DragonSpark.Presentation.Components.Content.Templates.ManyActiveContentTemplateComponentBase<DragonSpark.Application.Entities.Queries.Runtime.Pagination.IPages<T>>

@inject IPagination<T> DefaultPagination

<DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>
    <ResultingContentView T="IPages<T>"
                          Content="@Subject"
                          LoadingTemplate="@LoadingTemplate"
                          NotFoundTemplate="@NotFoundTemplate"
                          ExceptionTemplate="@ExceptionTemplate">
        @if (HeaderTemplate is not null)
        {
            @HeaderTemplate(context)
        }

        @if (Results.Get(context))
        {
            @ChildContent(context)
        }
        else
        {
            @EmptyElementsTemplate
        }

        @if (FooterTemplate is not null)
        {
            @FooterTemplate(context)
        }
    </ResultingContentView>
</DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>