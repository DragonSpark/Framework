@typeparam T
@using DragonSpark.Application.Entities.Queries.Runtime.Pagination

@inherits Templates.ManyActiveContentTemplateComponentBase<IPages<T>>

@inject IPaging<T> Paging

<DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>
    <ContentView TValue="IPages<T>" Content="@_subject" NotFoundTemplate="@NotFoundTemplate">
        @HeaderTemplate?.Invoke(context)

        @if (Results.Get(_results))
        {
            if (!_error && _results is null)
            {
                @LoadingTemplate
            }
            <CascadingValue TValue="IPageContainer<T>" Value="@(this)" IsFixed="true">
                @ChildContent(context)
            </CascadingValue>
        }
        else
        {
            @EmptyElementsTemplate
        }

        @FooterTemplate?.Invoke(context)
    </ContentView>
</DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>
