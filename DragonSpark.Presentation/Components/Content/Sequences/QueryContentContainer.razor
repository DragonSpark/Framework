@typeparam T

@using DragonSpark.Application.AspNet.Entities.Queries.Runtime.Pagination
@inherits Templates.ManyActiveContentTemplateComponentBase<IPages<T>>

@inject IPaging<T> Paging

<DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>
    <ContentView TValue="IPages<T>" Content="@_subject" NotFoundTemplate="@NotFoundTemplate">
        @HeaderTemplate?.Invoke(new(context, _any, _loading))

        @if (_any)
        {
            if (_loading)
            {
                @LoadingTemplate
            }
            <CascadingValue TValue="IPageContainer<T>" Value="@(this)" IsFixed="true" ChildContent="@ChildContent(context)" />
        }
        else
        {
            @EmptyElementsTemplate
        }

        @FooterTemplate?.Invoke(new(context, _any, _loading))
    </ContentView>
</DragonSpark.Presentation.Components.Content.ApplicationPrincipalAwareContentView>
