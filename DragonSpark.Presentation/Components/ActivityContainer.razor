@using DragonSpark.Presentation.Compose
<div class="@(Active ? ActiveStyle : null)">
    <fieldset disabled="@Active">
        @ChildContent
    </fieldset>
</div>

@code
{
    bool Active { get; set; }

    [Parameter]
    public string ActiveStyle { get; set; } = "dragonspark-activity-active";

    [Parameter]
    public object Receiver { get; set; } = default!;

    [Parameter]
    public RenderFragment ChildContent { get; set; } = default!;

    protected override void OnParametersSet()
    {
        Active = IsActive.Default.Get((Receiver is Receiver receiver ? receiver.Get() : Receiver) ?? this);
        base.OnParametersSet();
    }
}