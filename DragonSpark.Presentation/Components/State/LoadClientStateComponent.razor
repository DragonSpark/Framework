@using DragonSpark.Compose
@using DragonSpark.Presentation.Components.Content.Templates
@using DragonSpark.Presentation.Environment.Browser
@using DragonSpark.Text

@typeparam T where T : class

<DragonSpark.Presentation.Components.Client.ClientVariableContentComponent Input="@Store" NotFoundTemplate="@NotFoundTemplate">
    @ChildContent(Parser.Get(context.Verify()))

</DragonSpark.Presentation.Components.Client.ClientVariableContentComponent>

@code {
    
    [Parameter]
    public IClientVariable<string> Store { get; set; } = null!;

    [Parameter]
    public IParser<T> Parser { get; set; } = null!;

    [Parameter]
    public RenderFragment<T> ChildContent { get; set; } = null!;

    [Parameter]
    public RenderFragment NotFoundTemplate { get; set; } = DefaultNotFoundTemplate.Default;
}
