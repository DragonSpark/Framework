@typeparam T

@using DragonSpark.Presentation.Environment.Browser
@using DragonSpark.Presentation.Components.Interaction
@inherits ComponentStateComponentBase

<LocalStateComponent T="T" Owner="Owner" ProvidedKey="@ProvidedKey" Qualifier="@Qualifier">
    <ClientValueBindingComponent T="T" Value="@Value" Store="context" ChildContent="@ChildContent" ValueChanged="@OnChange" />
</LocalStateComponent>

@code {
    [Parameter]
    public T Value { get; set; } = default!;

    [Parameter]
    public EventCallback<T> ValueChanged { get; set; }

    [Parameter]
    public RenderFragment<Binding<T>> ChildContent { get; set; } = default!;

    Task OnChange(T parameter) => ValueChanged.InvokeAsync(Value = parameter);
}