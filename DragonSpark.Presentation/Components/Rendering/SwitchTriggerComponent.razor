@using DragonSpark.Compose
@using DragonSpark.Model.Results

@code {
    [Parameter]
    public Switch Input { get; set; } = default!;

    [Parameter]
    public EventCallback Updated { get; set; }

    [Parameter]
    public bool EnablePostRender { get; set; }

    protected override Task OnParametersSetAsync() => !EnablePostRender && Input.Down() ? Updated.Invoke() : base.OnParametersSetAsync();

    protected override Task OnAfterRenderAsync(bool firstRender)
        => Input.Down() ? Updated.Invoke() : base.OnAfterRenderAsync(firstRender);

    protected override bool ShouldRender() => EnablePostRender;

}