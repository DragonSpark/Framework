@using DragonSpark.Compose
@using DragonSpark.Model.Commands
@using DragonSpark.Model.Results

@typeparam T

@inherits ConfirmResultContextComponent<T>

<DialogContext T="T" @ref="_context" Title="@Title" Width="@Width">
    <ConfirmResultAssignment
        EnableFocus="@EnableFocus"
        PrimaryClass="@PrimaryClass" SecondaryClass="@SecondaryClass"
        PrimaryText="@PrimaryText" SecondaryText="@SecondaryText"
        ContentClass="@ContentClass" Confirmation="@Confirmation" ChildContent="@ChildContent(context)"
        Assignment="@Store" />
</DialogContext>

@code {
    [Parameter]
    public bool EnableFocus { get; set; } = true;

    [Parameter]
    public string PrimaryClass { get; set; } = default!;

    [Parameter]
    public string SecondaryClass { get; set; } = default!;

    [Parameter]
    public string PrimaryText { get; set; } = "OK";

    [Parameter]
    public string SecondaryText { get; set; } = "Cancel";

    [Parameter]
    public string ContentClass { get; set; } = "ds-dialog-content card-body";

    [Parameter]
    public Func<ValueTask<bool>> Confirmation { get; set; } = () => true.ToOperation();

    [Parameter]
    public RenderFragment<DialogParameter<T>> ChildContent { get; set; } = default!;
}